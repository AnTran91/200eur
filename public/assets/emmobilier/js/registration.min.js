!function(t,i){t.Registration=function(t,i){this.options=$.extend({tel_script_url:null,default_country:"FR"},i),this.$wrapper=t,this.$telInput=this.$wrapper.find(".js-phone-validation"),this.$errorMsg=this.$wrapper.find("#js-phone-error-validation"),this.$validMsg=this.$wrapper.find("#js-phone-success-validation"),this.$submitButton=this.$wrapper.find("#js-registration-button"),this.$countryInput=this.$wrapper.find(".js-billing-address-country"),this.resetTelInput(),this.initTelInput(),this.initTVAInput(),this.$wrapper.on("keyup change",".js-phone-validation",this.resetTelInput.bind(this)),this.$wrapper.on("blur change keypress keyup",".js-phone-validation",this.validateTelInput.bind(this)),this.$wrapper.on("blur",".js-phone-validation",this.onChangeCountry.bind(this)),this.$wrapper.on("change",".js-billing-address-country",this.onChangeCountry.bind(this))},$.extend(t.Registration.prototype,{initTelInput:function(){this.$telInput.intlTelInput({utilsScript:this.options.tel_script_url,hiddenInput:this.$telInput.attr("name"),initialCountry:this.options.default_country,customPlaceholder:function(t,i){return t.replace(/[^a-zA-Z ]/g,"x")}}),this.$telInput.removeAttr("name")},initTVAInput:function(){"FR"===this.$countryInput.val()?this.$wrapper.find("#req-tva").hide():this.$wrapper.find("#req-tva").show()},onChangeCountry:function(t){"FR"===this.$countryInput.val()?this.$wrapper.find("#req-tva").hide():this.$wrapper.find("#req-tva").show()},resetTelInput:function(){this.$telInput.removeClass("is-valid"),this.$telInput.removeClass("is-invalid"),this.$errorMsg.addClass("hide"),this.$validMsg.addClass("hide"),this.$submitButton.attr("disabled",!1)},validateTelInput:function(){this.resetTelInput(),$.trim(this.$telInput.val())&&(this.$telInput.intlTelInput("isValidNumber")?(this.$telInput.removeClass("is-invalid"),this.$telInput.addClass("is-valid"),this.$validMsg.removeClass("hide"),$("input[name='"+this.$telInput.attr("name")+"']").val(this.$telInput.intlTelInput("getNumber")),this.$submitButton.attr("disabled",!1)):(this.$telInput.removeClass("is-valid"),this.$telInput.addClass("is-invalid"),this.$errorMsg.removeClass("hide"),this.$submitButton.attr("disabled",!0)))}})}(window,jQuery);